<%- include('partials/header') %>

<div class="bg-gray-50 min-h-screen py-12">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="mb-12 text-center">
            <h1 class="text-3xl md:text-4xl font-black text-[#0A2040] mb-4 relative inline-block">
                Alumni Events
                <div class="absolute -bottom-2 left-1/2 transform -translate-x-1/2 w-24 h-1 bg-[#FFD700] rounded-full"></div>
            </h1>
            <p class="text-lg text-gray-600 max-w-2xl mx-auto mt-4">
                Join our upcoming alumni events and reconnect with your batchmates and the NSMOSA community.
            </p>
        </div>

        <% if (events && events.length > 0) { %>
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
            <% events.forEach(function(event) { %>
            <div class="flex flex-col bg-white rounded-2xl shadow-xl overflow-hidden hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-2 group border border-gray-100 relative">
                <div class="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-[#FFD700] to-transparent transform scale-x-0 group-hover:scale-x-100 transition-transform duration-500 z-20"></div>

                <div class="relative h-64 overflow-hidden">
                    <div class="absolute inset-0 bg-[#0A2040]/10 group-hover:bg-transparent transition-colors z-10 duration-500"></div>
                    <img src="<%= event.images && event.images.length > 0 ? event.images[0] : '/images/placeholder.jpg' %>" alt="<%= event.title %>"
                        class="w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-700">

                    <% if (event.eventDate) { 
                        const date = new Date(event.eventDate);
                        const day = date.getDate();
                        const month = date.toLocaleString('en-US', { month: 'short' }).toUpperCase();
                    %>
                    <div class="absolute top-4 left-4 bg-[#0A2040]/90 backdrop-blur-sm text-white rounded-xl px-4 py-2 text-center shadow-lg border border-white/10 z-20 group-hover:bg-[#FFD700] group-hover:text-[#0A2040] transition-colors duration-300">
                        <span class="block text-2xl font-black leading-none"><%= day %></span>
                        <span class="block text-xs font-bold uppercase tracking-wider mt-0.5"><%= month %></span>
                    </div>
                    <% } %>

                    <% if (event.images && event.images.length > 1) { %>
                    <div class="absolute top-4 right-4 bg-white/90 backdrop-blur-sm text-[#0A2040] rounded-lg px-3 py-1 text-xs font-bold shadow-lg z-20">
                        <%= event.images.length %> Photos
                    </div>
                    <% } %>
                </div>

                <div class="flex flex-col flex-grow p-6">
                    <h3 class="text-xl font-bold text-[#0A2040] mb-4 group-hover:text-blue-700 transition-colors">
                        <%= event.title %>
                    </h3>

                    <div class="space-y-3 mb-6">
                        <% if (event.location) { %>
                        <div class="flex items-start text-gray-600 text-sm group/icon">
                            <svg class="w-5 h-5 mr-3 text-[#0A2040] group-hover/icon:text-[#FFD700] transition-colors mt-0.5 flex-shrink-0"
                                fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
                            </svg>
                            <span><%= event.location %></span>
                        </div>
                        <% } %>
                        
                        <% if (event.timing) { %>
                        <div class="flex items-center text-gray-600 text-sm group/icon">
                            <svg class="w-5 h-5 mr-3 text-[#0A2040] group-hover/icon:text-[#FFD700] transition-colors flex-shrink-0"
                                fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                            </svg>
                            <span><%= event.timing %></span>
                        </div>
                        <% } %>
                    </div>

                    <% if (event.description) { %>
                    <p class="text-gray-600 text-sm mb-8 leading-relaxed line-clamp-3">
                        <%= event.description %>
                    </p>
                    <% } %>
                </div>
            </div>
            <% }); %>
        </div>
        <% } else { %>
        <div class="text-center py-20">
            <div class="w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4 text-gray-400">
                <svg class="w-10 h-10" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z">
                    </path>
                </svg>
            </div>
            <h3 class="text-xl font-bold text-gray-700 mb-2">No Events Yet</h3>
            <p class="text-gray-500">Check back soon for upcoming alumni events!</p>
        </div>
        <% } %>
    </div>
</div>

<%- include('partials/footer') %>
