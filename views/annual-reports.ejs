<%- include('partials/header') %>

    <style>
        /* --- Core Animations --- */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(40px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .animate-enter {
            animation: fadeInUp 1s cubic-bezier(0.2, 0.8, 0.2, 1) forwards;
            opacity: 0;
        }

        .delay-100 {
            animation-delay: 0.1s;
        }

        .delay-200 {
            animation-delay: 0.2s;
        }

        .delay-300 {
            animation-delay: 0.3s;
        }

        /* --- Custom Cursor Glow --- */
        #cursor-glow {
            position: fixed;
            width: 600px;
            height: 600px;
            background: radial-gradient(circle, rgba(0, 163, 224, 0.12), transparent 70%);
            border-radius: 50%;
            pointer-events: none;
            z-index: 5;
            transform: translate(-50%, -50%);
            transition: width 0.3s, height 0.3s;
            mix-blend-mode: color-dodge;
        }

        /* --- 3D Tilt Container --- */
        .perspective-container {
            perspective: 1200px;
        }

        .glass-card {
            background: rgba(255, 255, 255, 0.85);
            /* Slightly more opaque for content clarity */
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.6);
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.05);
            transform-style: preserve-3d;
            /* Key for 3D depth */
            will-change: transform;
            position: relative;
            overflow: hidden;
        }

        .glass-card::after {
            content: '';
            position: absolute;
            inset: 0;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.4) 0%, transparent 100%);
            opacity: 0.5;
            pointer-events: none;
        }

        .depth-layer {
            transform: translateZ(30px);
            /* Lifts content off the card */
        }

        .depth-layer-deep {
            transform: translateZ(60px);
            /* Lifts content further */
        }

        /* --- Gradient Text & Icons --- */
        .text-gradient {
            background: linear-gradient(135deg, #0A2040 0%, #00a3e0 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        /* --- Canvas --- */
        #particles-canvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            pointer-events: none;
        }
    </style>

    <div class="bg-gray-50 min-h-screen relative overflow-hidden flex items-center justify-center py-20">

        <!-- Interactive Elements -->
        <div id="cursor-glow"></div>
        <canvas id="particles-canvas"></canvas>

        <div class="max-w-3xl w-full mx-4 relative z-10 perspective-container">

            <!-- 3D Tilt Card -->
            <div id="tilt-card"
                class="glass-card rounded-3xl p-12 md:p-20 text-center animate-enter cursor-default shadow-2xl">

                <!-- Icon -->
                <div class="mb-8 flex justify-center depth-layer-deep">
                    <div class="w-24 h-24 bg-blue-50/80 rounded-full flex items-center justify-center shadow-inner">
                        <svg class="w-12 h-12 text-[#0A2040]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"
                                d="M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
                        </svg>
                    </div>
                </div>

                <!-- Title -->
                <h1
                    class="text-5xl md:text-6xl font-black mb-6 tracking-tight text-gradient animate-enter delay-100 depth-layer-deep">
                    Annual Reports
                </h1>

                <!-- Divider & Subtitle -->
                <div class="flex items-center justify-center gap-4 mb-8 animate-enter delay-200 depth-layer">
                    <div class="h-0.5 w-16 bg-gray-200 rounded-full"></div>
                    <span class="text-sm font-bold text-[#FFD700] uppercase tracking-[0.2em]">Coming Soon</span>
                    <div class="h-0.5 w-16 bg-gray-200 rounded-full"></div>
                </div>

                <!-- Description -->
                <p
                    class="text-gray-600 text-lg leading-relaxed mb-10 max-w-xl mx-auto animate-enter delay-300 depth-layer">
                    We are curating a decade of excellence. Our comprehensive annual reports, detailing the impact and
                    milestones of NSMOSA, will be available here shortly.
                </p>

                <!-- Interactive Button -->
                <div class="animate-enter delay-300 depth-layer-deep">
                    <button
                        class="px-10 py-4 rounded-full bg-[#0A2040] text-white font-bold tracking-wider shadow-xl hover:bg-[#00a3e0] hover:shadow-blue-500/40 hover:-translate-y-1 transition-all duration-300">
                        Notify Me
                    </button>
                </div>

            </div>

            <!-- Footer text in 3D space -->
            <div class="text-center mt-12 animate-enter delay-300 opacity-60 relative z-10">
                <p class="text-sm font-medium text-gray-400 tracking-wide">EST. 1975 â€¢ NSM OLD STUDENTS ASSOCIATION</p>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- 1. 3D Tilt Effect ---
            const card = document.getElementById('tilt-card');
            const container = document.querySelector('.perspective-container');

            if (card && container) {
                container.addEventListener('mousemove', (e) => {
                    const rect = card.getBoundingClientRect();
                    const x = e.clientX - rect.left;
                    const y = e.clientY - rect.top;

                    // Calculate rotation based on cursor position relative to card center
                    const centerX = rect.width / 2;
                    const centerY = rect.height / 2;

                    const rotateX = ((y - centerY) / centerY) * -10; // Max 10deg rotation
                    const rotateY = ((x - centerX) / centerX) * 10;

                    card.style.transform = `rotateX(${rotateX}deg) rotateY(${rotateY}deg)`;
                });

                // Reset on mouse leave
                container.addEventListener('mouseleave', () => {
                    card.style.transition = 'transform 0.5s ease';
                    card.style.transform = 'rotateX(0deg) rotateY(0deg)';
                    setTimeout(() => {
                        card.style.transition = ''; // Remove transition for responsiveness during hover
                    }, 500);
                });

                // Clear transition on mouse enter to prevent laggy movement
                container.addEventListener('mouseenter', () => {
                    card.style.transition = 'none';
                });
            }

            // --- 2. Cursor Glow Follower ---
            const glow = document.getElementById('cursor-glow');
            let mouseX = 0, mouseY = 0;
            let glowX = 0, glowY = 0;

            document.addEventListener('mousemove', (e) => {
                mouseX = e.clientX;
                mouseY = e.clientY;
            });

            function animateGlow() {
                // Smooth lerp for glow movement
                glowX += (mouseX - glowX) * 0.1;
                glowY += (mouseY - glowY) * 0.1;

                glow.style.left = `${glowX}px`;
                glow.style.top = `${glowY}px`;

                requestAnimationFrame(animateGlow);
            }
            animateGlow();

            // --- 3. Particle System ---
            const canvas = document.getElementById('particles-canvas');
            const ctx = canvas.getContext('2d');
            let width, height;
            let particles = [];

            function resize() {
                width = canvas.width = window.innerWidth;
                height = canvas.height = window.innerHeight;
            }

            window.addEventListener('resize', resize);
            resize();

            class Particle {
                constructor() {
                    this.x = Math.random() * width;
                    this.y = Math.random() * height;
                    this.vx = (Math.random() - 0.5) * 0.5;
                    this.vy = (Math.random() - 0.5) * 0.5;
                    this.size = Math.random() * 2 + 1;
                    this.color = Math.random() > 0.5 ? 'rgba(10, 32, 64, 0.1)' : 'rgba(0, 163, 224, 0.1)'; // Brand colors
                }

                update() {
                    this.x += this.vx;
                    this.y += this.vy;

                    // Bounce off edges
                    if (this.x < 0 || this.x > width) this.vx *= -1;
                    if (this.y < 0 || this.y > height) this.vy *= -1;

                    // Mouse interaction
                    const dx = mouseX - this.x;
                    const dy = mouseY - this.y;
                    const dist = Math.sqrt(dx * dx + dy * dy);
                    if (dist < 200) {
                        this.x -= dx * 0.01; // subtle push away
                        this.y -= dy * 0.01;
                    }
                }

                draw() {
                    ctx.beginPath();
                    ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                    ctx.fillStyle = this.color;
                    ctx.fill();
                }
            }

            // Init Particles
            for (let i = 0; i < 60; i++) {
                particles.push(new Particle());
            }

            function animateParticles() {
                ctx.clearRect(0, 0, width, height);

                particles.forEach((p, index) => {
                    p.update();
                    p.draw();

                    // Connect particles
                    for (let j = index + 1; j < particles.length; j++) {
                        const p2 = particles[j];
                        const dx = p.x - p2.x;
                        const dy = p.y - p2.y;
                        const dist = Math.sqrt(dx * dx + dy * dy);

                        if (dist < 150) {
                            ctx.beginPath();
                            ctx.strokeStyle = `rgba(0, 163, 224, ${0.1 - dist / 1500})`; // Fade out line
                            ctx.lineWidth = 0.5;
                            ctx.moveTo(p.x, p.y);
                            ctx.lineTo(p2.x, p2.y);
                            ctx.stroke();
                        }
                    }
                });

                requestAnimationFrame(animateParticles);
            }
            animateParticles();
        });
    </script>

    <%- include('partials/footer') %>